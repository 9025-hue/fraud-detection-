<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Recognition API</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117;
            color: #c9d1d9;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div class="w-full max-w-lg bg-gray-800 rounded-3xl shadow-2xl p-8 text-center">
        <h1 class="text-3xl font-bold mb-6 text-white">Image Recognition API</h1>
        <p class="text-gray-400 mb-6">Upload an image to see what our API thinks it is.</p>

        <input type="file" id="image-upload" accept="image/*" class="block w-full text-sm text-gray-500
            file:mr-4 file:py-2 file:px-4
            file:rounded-full file:border-0
            file:text-sm file:font-semibold
            file:bg-blue-50 file:text-blue-700
            hover:file:bg-blue-100" />
        
        <div id="image-preview-container" class="mt-8 mb-6 hidden">
            <img id="image-preview" class="max-w-full h-auto rounded-xl mx-auto" src="#" alt="Image Preview" />
        </div>

        <button id="analyze-btn" class="w-full py-3 px-6 bg-blue-600 text-white font-semibold rounded-full shadow-lg hover:bg-blue-700 transition-all transform hover:scale-105" disabled>Analyze Image</button>

        <div id="result" class="mt-8 p-4 bg-gray-700 rounded-xl hidden">
            <p id="result-text" class="text-lg font-medium text-white"></p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const imageUpload = document.getElementById('image-upload');
            const imagePreviewContainer = document.getElementById('image-preview-container');
            const imagePreview = document.getElementById('image-preview');
            const analyzeBtn = document.getElementById('analyze-btn');
            const resultDiv = document.getElementById('result');
            const resultText = document.getElementById('result-text');

            const mockApiResponses = [
                "A cat sitting on a keyboard.",
                "A beautiful landscape with mountains and a lake.",
                "A vibrant bouquet of flowers.",
                "A person riding a bicycle.",
                "A cityscape at night.",
                "A delicious-looking pizza.",
                "A dog playing fetch in a park."
            ];

            imageUpload.addEventListener('change', (event) => {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        imagePreview.src = e.target.result;
                        imagePreviewContainer.classList.remove('hidden');
                        analyzeBtn.disabled = false;
                        resultDiv.classList.add('hidden');
                    };
                    reader.readAsDataURL(file);
                } else {
                    imagePreviewContainer.classList.add('hidden');
                    analyzeBtn.disabled = true;
                    resultDiv.classList.add('hidden');
                }
            });

            analyzeBtn.addEventListener('click', () => {
                if (!imageUpload.files[0]) return;

                // Show a loading state
                resultText.textContent = "Analyzing image...";
                resultDiv.classList.remove('hidden');
                
                // Simulate an API call delay
                setTimeout(() => {
                    const randomIndex = Math.floor(Math.random() * mockApiResponses.length);
                    resultText.textContent = `API Result: ${mockApiResponses[randomIndex]}`;
                }, 1500);
            });
        });
    </script>
</body>
</html>
